
#define waterBegin 0
#define waterEnd -35

float4 GetColor(float4 color, float w)
{
	if (w < waterBegin)
    {
		w = saturate((w-waterBegin) / (waterEnd-waterBegin));
	}
	else
	{
		w = 0;
	}
	
	float4 fogColor = float4(0, 0.111, 0.141, 0.5);
	return lerp(color, fogColor, w);//1 / exp(1-w));
}